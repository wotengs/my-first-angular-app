<article appHighlightCartedProduct [isCarted]="!!product()?.carted" class="product-card">
  <div class="media">
    <img class="thumb" src="{{ thumbnailUrl() }}" alt="{{ product()?.title || 'product' }}" />
  </div>

  <div class="content">
    <h3 class="title">{{ product()?.title }}</h3>
    <p class="category">{{ product()?.category }}</p>
    <p class="description">{{ product()?.description }}</p>

    <div class="meta">
      <span class="price">{{ priceLabel() }}</span>
      <span class="rating">â˜… {{ product()?.rating ?? '-' }}</span>
      <span class="stock" [class.low]="(product()?.stock ?? 0) < 5"
        >{{ product()?.stock ?? 0 }} in stock</span
      >
    </div>

    <div class="footer">
      <div class="brand">{{ product()?.brand }}</div>
      <button
        id="product-{{ product()?.id }}"
        class="btn"
        (click)="productClicked()"
        [attr.aria-pressed]="product()?.carted"
      >
        <svg
          width="18"
          height="18"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          aria-hidden="true"
        >
          <path
            d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2S15.9 22 17 22s2-.9 2-2-.9-2-2-2zM7.16 14l.84-2h7.56c.75 0 1.41-.41 1.75-1.03L21 4H6.21l-.94-2H1v2h3l3.6 7.59-1.35 2.44C6.16 15.37 6 15.68 6 16c0 1.1.9 2 2 2h9v-2H8.42c-.14 0-.25-.11-.25-.25l.03-.12L9.1 14h8.45c.75 0 1.41-.41 1.75-1.03L21 6H7.16z"
            fill="currentColor"
          />
        </svg>
        <span class="label">{{ product()?.carted ? 'Remove' : 'Add to cart' }}</span>
      </button>
    </div>
  </div>
</article>
